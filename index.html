/break-tracker
â”œâ”€â”€ server.js
â”œâ”€â”€ package.json
â”œâ”€â”€ data.json
â”œâ”€â”€ users.json
â””â”€â”€ /public
â”œâ”€â”€ login.html
â”œâ”€â”€ signup.html
â”œâ”€â”€ dashboard.html
â”œâ”€â”€ style.css
â””â”€â”€ app.js

=============================
ðŸ“Œ **server.js**
================

````js
const express = require('express');
const fs = require('fs');
const path = require('path');
const http = require('http');
const { Server } = require('socket.io');
const cors = require('cors');

const app = express();
const server = http.createServer(app);
const io = new Server(server, { cors: { origin: '*' } });

app.use(cors());
app.use(express.json());
app.use(express.static(path.join(__dirname, 'public')));

const USERS_FILE = path.join(__dirname, 'users.json');
const DATA_FILE = path.join(__dirname, 'data.json');

function load(file, fallback) {
  try {
    if (fs.existsSync(file)) {
      return JSON.parse(fs.readFileSync(file));
    }
  } catch {}
  fs.writeFileSync(file, JSON.stringify(fallback, null, 2));
  return fallback;
}

let users = load(USERS_FILE, []);
let breakData = load(DATA_FILE, {});

// Create break entry for new user
function ensureBreakData(name) {
  if (!breakData[name]) {
    breakData[name] = {
      status: 'Working',
      totalBreak: 0,
      breakStart: null,
      breaksCount: 0
    };
    fs.writeFileSync(DATA_FILE, JSON.stringify(breakData, null, 2));
  }
}

// SIGNUP
app.post('/signup', (req, res) => {
  const { name, email, password } = req.body;

  if (!name || !email || !password) return res.json({ ok: false, message: 'Missing fields' });

  if (users.find(u => u.email === email)) {
    return res.json({ ok: false, message: 'User already exists' });
  }

  users.push({ name, email, password });
  fs.writeFileSync(USERS_FILE, JSON.stringify(users, null, 2));

  ensureBreakData(name);

  res.json({ ok: true });
});

// LOGIN
io.on('connection', socket => {

  socket.on('login', ({ email, password }, cb) => {
    const user = users.find(u => u.email === email && u.password === password);
    if (!user) return cb({ ok: false, message: 'Invalid login' });
    ensureBreakData(user.name);
    cb({ ok: true, name: user.name });
  });

  socket.on('requestData', () => {
    socket.emit('breakData', breakData);
  });

  // BREAK IN
  socket.on('breakIn', ({ name, performer }, cb) => {
    if (name !== performer) return cb({ ok: false, message: 'Unauthorized' });
    let user = breakData[name];
    if (!user) return cb({ ok: false });
    if (user.status === 'On Break') return cb({ ok: false, message: 'Already on break' });
    if (user.breaksCount >= 3) return cb({ ok: false, message: 'Max breaks reached' });

    user.status = 'On Break';
    user.breakStart = Date.now();
    user.breaksCount++;

    fs.writeFileSync(DATA_FILE, JSON.stringify(breakData, null, 2));
    io.emit('breakData', breakData);
    cb({ ok: true });
  });

  // BREAK OUT
  socket.on('breakOut', ({ name, performer }, cb) => {
    if (name !== performer) return cb({ ok: false });
    let user = breakData[name];
    if (!user || !user.breakStart) return cb({ ok: false });

    const mins = Math.round((Date.now() - user.breakStart) / 60000);
    user.totalBreak += mins;
    if (user.totalBreak > 60) user.totalBreak = 60;

    user.status = 'Working';
    user.breakStart = null;

    fs.writeFileSync(DATA_FILE, JSON.stringify(breakData, null, 2));
    io.emit('breakData', breakData);
    cb({ ok: true });
  });
});

server.listen(3000, () => console.log('Server running on port 3000'));```

=============================
ðŸ“Œ **package.json**
=============================
```json
{
  "name": "break-tracker",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "socket.io": "^4.7.2"
  }
}```

=============================
ðŸ“Œ **data.json**
=============================
```json
{}``` 

=============================
ðŸ“Œ **users.json**
=============================
```json
[]``` 

=============================
ðŸ“Œ public/login.html
=============================
```html
<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body class="p-10">
  <div class="max-w-md mx-auto bg-white p-6 shadow rounded">
    <h2 class="text-2xl font-bold mb-4">Login</h2>

    <input id="email" placeholder="Email" class="w-full p-2 border mb-3" />
    <input id="password" type="password" placeholder="Password" class="w-full p-2 border mb-3" />

    <button onclick="login()" class="bg-blue-600 text-white px-4 py-2">Login</button>

    <p class="mt-4">New user? <a href="signup.html" class="text-blue-500">Signup</a></p>

    <p id="err" class="text-red-500 mt-3"></p>
  </div>

<script>
  const socket = io();

  function login() {
    let email = document.getElementById('email').value;
    let password = document.getElementById('password').value;

    socket.emit('login', { email, password }, (res) => {
      if (!res.ok) return document.getElementById('err').textContent = res.message;

      localStorage.setItem('user', res.name);
      window.location.href = 'dashboard.html';
    });
  }
</script>
</body>
</html>``` 

=============================
ðŸ“Œ public/signup.html
=============================
```html
<!DOCTYPE html>
<html>
<head>
  <title>Signup</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-10">
  <div class="max-w-md mx-auto bg-white p-6 shadow rounded">
    <h2 class="text-2xl font-bold mb-4">Create Account</h2>

    <input id="name" placeholder="Full Name" class="w-full p-2 border mb-3" />
    <input id="email" placeholder="Email" class="w-full p-2 border mb-3" />
    <input id="password" type="password" placeholder="Password" class="w-full p-2 border mb-3" />

    <button onclick="signup()" class="bg-green-600 text-white px-4 py-2">Create Account</button>

    <p id="err" class="text-red-500 mt-3"></p>
  </div>

<script>
function signup() {
  fetch('/signup', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      name: document.getElementById('name').value,
      email: document.get

````
